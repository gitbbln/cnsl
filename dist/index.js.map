{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\"\r\nimport { TColors, TFlags, TLogs, TColorSchema, TNumber } from './index.d'\r\n\r\nexport class Cnsl {\r\n  u001b = \"\\u001b[\";\r\n  endEsc = \"\\u001b[0m\";\r\n  boldEsc = \"\\u001b[1m\";\r\n  reversedEsc = \"\\u001b[7m\";\r\n  underlineEsc = \"\\u001b[4m\";\r\n  foreGroundColor256 = \"\\u001b[38;5;\"\r\n  backGroundColor256 = \"\\u001b[48;5;\"\r\n  colors_arr: string[] = [\r\n    'width|height|bottom|right', 'R',\r\n    '{|}', 'G'\r\n  ];\r\n  fg: TColors = {\r\n    Red: 91,\r\n    Green: 92,\r\n    Yellow: 93,\r\n    Blue: 94,\r\n    Magenta: 95,\r\n    Cyan: 96,\r\n    White: 97,\r\n  };\r\n  bg: TColors = {\r\n    Red: 101,\r\n    Green: 102,\r\n    Yellow: 103,\r\n    Blue: 104,\r\n    Magenta: 105,\r\n    Cyan: 106,\r\n    White: 107\r\n  };\r\n  atr: TColors = {\r\n    bold: 1,\r\n    underline: 4,\r\n    blinked: 5,\r\n    inverse: 7,\r\n    hidden: 8\r\n  };\r\n  colorSchema: TColorSchema = {\r\n\r\n    default: {\r\n      msg: \"G\",\r\n      ctx: \"W\",\r\n      \":\": \"W\",\r\n      attr: {\r\n        name: \"C\",\r\n        value: \"Y\"\r\n      },\r\n      pair: {\r\n        arr: \"W\",\r\n      }\r\n\r\n    }\r\n  };\r\n  ESC: string = '\\u001b[';\r\n  m: string = 'm';\r\n  reset: number = 0;\r\n\r\n  open: string = this.ESC;\r\n  close: string;\r\n\r\n  comma: string = \";\";\r\n  ifBright(b: boolean, color: number): number {\r\n    if (b) color -= 60;\r\n    return color;\r\n  }\r\n\r\n  log_raw(...args: any[]) {\r\n    console.log(args);\r\n  };\r\n  fillColors(v: TColors) {\r\n    for (let key in v) {\r\n      let s = key[0].toUpperCase();\r\n      v[s] = v[key];\r\n      v[key.toUpperCase()] = v[key];\r\n    }\r\n    //console.log(v);\r\n\r\n  }\r\n  fillAttrs(v: TColors) {\r\n    for (let key in v) {\r\n      let s0 = key[0].toUpperCase();\r\n      let s1 = key[1].toUpperCase();\r\n      v[s0 + s1] = v[key];\r\n      v[key.toUpperCase()] = v[key];\r\n    }\r\n    //console.log(v);\r\n\r\n  }\r\n  exx(fn: string, data: string, flags: TFlags, b: boolean) {\r\n    //return;\r\n    //let f = TTNI.f();\r\n    //console.log('fn= ', fn);\r\n\r\n    if (!data) data = \"\";\r\n    if (flags != undefined) {\r\n      //  console.log(fn, 'flags=', flags, 'data=',data,pals,f);\r\n      /*if (getVtest(flags, data, fn, b)) {\r\n        if (shv.G != undefined) console.log(msg(shv.G('\\nexit'), ['happened in:', fn, ' по флагу:', data], \"CMGY\"));\r\n        else console.log(\"\\nexit happened in:'\" + fn + \"'\", ' по флагу:', data);\r\n        process.exit();\r\n      }*/\r\n    } else {\r\n      /*if (global.shv) {\r\n        if (shv.G != undefined) console.log(shv.G('\\nexit'), shv.C('happened in:'), shv.M(fn), data);\r\n        else console.log(\"\\nexit happened in:'\" + fn + \"'\", data);\r\n      }*/\r\n      process.exit();\r\n    }\r\n  };\r\n\r\n  d2 = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'A'\r\n  };\r\n\r\n  d8 = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'B'\r\n  };\r\n\r\n  d6 = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'C'\r\n  };\r\n\r\n  d4 = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'D'\r\n  };\r\n\r\n  nextLine = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'E'\r\n  };\r\n\r\n  previousLine = (num: number = 1): string => {\r\n    return this.open + (num || '') + 'F'\r\n  };\r\n\r\n  horizontalAbsolute = (num: number = 1): string => {\r\n    if (num == null) throw new Error('horizontalAboslute requires a column to position to')\r\n    return this.open + num + 'G'\r\n  };\r\n\r\n  eraseData = (): string => {\r\n    return this.open + 'J'\r\n  };\r\n\r\n  eraseLine = (): TColors => {\r\n    return {\r\n\r\n    }\r\n  };\r\n\r\n  goto = (x: number, y: number): string => {\r\n    return this.open + y + ';' + x + 'H';\r\n  };\r\n\r\n  gotoSOL = (): string => {\r\n    return '\\r'\r\n  };\r\n\r\n  beep = (): string => {\r\n    return '\\x07'\r\n  };\r\n\r\n  hideCursor = (): string => {\r\n    return this.open + '?25l'\r\n  };\r\n\r\n  showCursor = (): string => {\r\n    return this.open + '?25h'\r\n  };\r\n\r\n\r\n  cursor = (x: number, y: number) => {\r\n    process.stdout.write(this.goto(x, y));\r\n  }\r\n  colorNodeRenderer = (fg: TColors): TColors => {\r\n    const s: TColors = {\r\n      pre: 0,\r\n      head: fg.Yellow,\r\n      in: fg.Magenta,\r\n      body: fg.Green,\r\n      out: fg.Cyan,\r\n      tail: fg.Red,\r\n      post: fg.Blue,\r\n    }\r\n    return s\r\n  }\r\n  msg = (fn: string, arr: string[], colors: string | undefined): string => {\r\n    let bgNotBright: boolean;\r\n    let fgNotBright: boolean;\r\n    let sbg: string | number;\r\n    let fg: string;\r\n    let bg: string | undefined;\r\n    let s: string = \"\";\r\n    let token_arr: string[];\r\n    let colors_arr: string[];\r\n    let attrs_arr: string[];\r\n    let pair_arr: string[];\r\n    let pairBright_arr: string[];\r\n    let k: string;\r\n    if (colors) {\r\n      colors_arr = colors.split(\" \");\r\n      //console.log(colors_arr)\r\n    }\r\n\r\n    if (fn) s = this.ESC + this.fg.R + this.m + fn;\r\n    if (arr.length > 0)\r\n      arr.forEach((item, index, arr) => {\r\n\r\n        if (colors) k = colors_arr[index];\r\n\r\n        if (k) {\r\n          token_arr = k.split('/');\r\n          if (token_arr.length > 1) attrs_arr = token_arr[1].split(\";\");\r\n          else attrs_arr = [];\r\n          pair_arr = token_arr[0].split(\"_\");\r\n          fg = pair_arr[pair_arr.length - 1].toUpperCase();\r\n          (pair_arr.length > 1) ? bg = pair_arr[0]: bg = undefined;\r\n          //console.log(pair_arr);\r\n          if (bg) {\r\n            bg = bg.toUpperCase();\r\n            pairBright_arr = bg.split(\"-\");\r\n            bg = pairBright_arr[pairBright_arr.length - 1]\r\n            bgNotBright = (pairBright_arr.length > 1);\r\n\r\n            //console.log('pairBright_arr=', bg, bgNotBright);\r\n          }\r\n          pairBright_arr = fg.split(\"-\");\r\n          fg = pairBright_arr[pairBright_arr.length - 1]\r\n          fgNotBright = (pairBright_arr.length > 1);\r\n\r\n          //console.log('pairBright_arr=', fg, fgNotBright);\r\n          (!bg) ? sbg = \"\": sbg = \";\" + this.ifBright(bgNotBright, this.bg[bg]);\r\n          s += this.ESC + this.ifBright(fgNotBright, this.fg[fg]) + sbg;\r\n          attrs_arr.forEach((atr, index, arr) => {\r\n            //console.log(`'${atr}'`,this.atr[atr])\r\n            s += this.comma + this.atr[atr];\r\n\r\n          })\r\n          s += this.m;\r\n          s += item;\r\n          s += this.close;\r\n\r\n        } else s += item;\r\n      });\r\n\r\n    return s;\r\n  }\r\n  log = (colors: string, ...args: any[]) => {\r\n    let s: string = this.msg(\"\", args, colors);\r\n    console.log(s);\r\n  };\r\n  lof = (f: string, colors: string, ...args: any[]) => {\r\n    let s: string = this.msg(f, args, colors);\r\n    console.log(s);\r\n  };\r\n  loc = (f: string, x: number, y: number, colors: string, ...args: any[]) => {\r\n    let s: string = this.msg(f, args, colors);\r\n    this.cursor(x, y);\r\n    console.log(s);\r\n  };\r\n  ao = (arr: string[], value ? : number): TNumber => {\r\n    let obj: TNumber = {};\r\n    let s: number;\r\n    //console.log('arr=',arr);\r\n\r\n    arr.forEach((item, index, arr) => {\r\n      obj[item] = index;\r\n    });\r\n    return obj;\r\n  };\r\n\r\n  constructor() {\r\n    this.close = this.ESC + this.reset + this.m;\r\n    this.fillColors(this.fg);\r\n    this.fillColors(this.bg);\r\n    this.fillAttrs(this.atr);\r\n    Object.assign(this.colorSchema.default.hook = {}, this.colorNodeRenderer(this.fg))\r\n    //console.log('this.colorSchema.default.hook=', this.colorSchema.default.hook);\r\n  }\r\n}"]}